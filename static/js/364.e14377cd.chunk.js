"use strict";(self.webpackChunkproduct_catalog=self.webpackChunkproduct_catalog||[]).push([[364],{364:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var s=a(43),o=a(579);const r=[{value:"Hold",label:"Hold",color:"#ffc107",bgColor:"#fff3cd",description:"Buy Later List"},{value:"Waitlist",label:"Waitlist",color:"#6c757d",bgColor:"#f8f9fa",description:"Waiting for Approval"},{value:"Pending Approval",label:"Pending Approval",color:"#007bff",bgColor:"#cce7ff",description:"Manager Review"},{value:"Approved",label:"Approved",color:"#28a745",bgColor:"#d4edda",description:"Ready for Procurement"},{value:"Not Approved",label:"Not Approved",color:"#dc3545",bgColor:"#f8d7da",description:"Requires Note"}];function l(e){var t;let{product:a,onCopyInfo:l,copySuccess:c,onAddToGym:n,itemStatuses:d,onStatusChange:i,statusNotes:p,onNoteSubmit:u}=e;const[m,h]=(0,s.useState)("1"),[v,x]=(0,s.useState)(""),[N,g]=(0,s.useState)(""),[j,f]=(0,s.useState)("https://via.placeholder.com/300x200?text=Loading..."),[b,y]=(0,s.useState)(!1),[C,w]=(0,s.useState)(""),I=()=>{C.trim()&&(u(a["Item Name"],C),w(""),y(!1))},A=(null===d||void 0===d?void 0:d[a["Item Name"]])||"",P=(null===p||void 0===p?void 0:p[a["Item Name"]])||"";return(0,s.useEffect)((()=>{let e=!0;return a.URL?fetch("https://api.microlink.io/?url=".concat(encodeURIComponent(a.URL),"&screenshot=true&meta=false")).then((e=>e.json())).then((t=>{e&&"success"===t.status&&t.data.screenshot&&t.data.screenshot.url?f(t.data.screenshot.url):f("https://via.placeholder.com/300x200?text=No+Preview")})).catch((()=>f("https://via.placeholder.com/300x200?text=No+Preview"))).finally((()=>{})):f("https://via.placeholder.com/300x200?text=No+Preview"),()=>{e=!1}}),[a.URL]),(0,o.jsxs)("div",{className:"product-card".concat(a.URL?" has-url":""),children:[a.URL?(0,o.jsx)("a",{href:a.URL,target:"_blank",rel:"noopener noreferrer",style:{display:"block"},children:(0,o.jsx)("img",{src:j,alt:a["Item Name"],className:"product-preview-image"})}):(0,o.jsx)("img",{src:j,alt:a["Item Name"],className:"product-preview-image"}),(0,o.jsxs)("div",{className:"product-card-content",children:[(0,o.jsx)("div",{className:"product-card-header",children:(0,o.jsxs)("div",{className:"title-container",children:[(0,o.jsx)("h3",{className:"product-title-fixed",children:a["Item Name"]}),"yes"===(null===(t=a.Preferred)||void 0===t?void 0:t.toLowerCase())&&(0,o.jsxs)("span",{className:"preferred-badge",children:[(0,o.jsx)("span",{role:"img","aria-label":"star",children:"\u2b50"})," Preferred Item"]})]})}),(0,o.jsxs)("div",{className:"product-details",children:[(0,o.jsx)("p",{className:"product-brand",children:a.Brand}),(0,o.jsx)("p",{className:"product-category",children:a.Category}),a.Cost&&(0,o.jsx)("p",{className:"product-cost",children:(k=a.Cost,k?"$".concat(k.replace(/[$]/g,"")):"")}),a["Exos Part Number"]&&(0,o.jsx)("p",{className:"product-part-number",children:a["Exos Part Number"]})]}),"Not Approved"===A&&P&&(0,o.jsxs)("div",{className:"status-note",children:[(0,o.jsx)("strong",{children:"Note:"})," ",P]}),(0,o.jsxs)("div",{className:"product-actions",children:[(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"0.5rem",alignItems:"center",marginBottom:"0.5rem"},children:[(0,o.jsx)("input",{type:"number",min:"1",value:m,onChange:e=>h(e.target.value.replace(/^0+/,"")),className:"quantity-input",style:{width:"60px",height:"38px"},placeholder:"Qty"}),(0,o.jsxs)("select",{value:v,onChange:e=>x(e.target.value),className:"gym-select",style:{width:"90px",height:"38px"},children:[(0,o.jsx)("option",{value:"",children:"Gym"}),(0,o.jsx)("option",{value:"MP2",children:"MP2"}),(0,o.jsx)("option",{value:"MAT3",children:"MAT3"}),(0,o.jsx)("option",{value:"MP5",children:"MP5"})]}),(0,o.jsxs)("select",{className:"status-select",value:A,onChange:e=>{var t;"Not Approved"===(t=e.target.value)?y(!0):i(a["Item Name"],t)},"data-status":A,style:{width:"calc(100% - 160px)",height:"38px"},children:[(0,o.jsx)("option",{value:"",children:"Status"}),r.map((e=>(0,o.jsx)("option",{value:e.value,children:e.label},e.value)))]})]}),(0,o.jsx)("button",{onClick:()=>{const e="custom"===m?parseInt(N,10):parseInt(m,10);v&&e>0&&(n(a,v,e,A),h("1"),g(""),x(""))},disabled:!v||!m||isNaN(Number(m))||Number(m)<1,className:"add-to-gym-button",children:"Add to Gym"}),(0,o.jsx)("button",{onClick:()=>l(a),className:"copy-button ".concat(c===a["Item Name"]?"success":""),children:c===a["Item Name"]?"Copied!":"Copy Info"})]})]}),b&&(0,o.jsx)("div",{className:"note-modal-overlay",children:(0,o.jsxs)("div",{className:"note-modal",children:[(0,o.jsx)("h3",{children:'Add Note for "Not Approved"'}),(0,o.jsx)("p",{children:"Please provide a reason why this item was not approved:"}),(0,o.jsx)("textarea",{className:"note-textarea",placeholder:"Enter reason for disapproval...",rows:"3",value:C,onChange:e=>w(e.target.value),onKeyDown:e=>{"Enter"===e.key&&e.ctrlKey&&I()}}),(0,o.jsxs)("div",{className:"note-modal-buttons",children:[(0,o.jsx)("button",{onClick:I,children:"Submit"}),(0,o.jsx)("button",{onClick:()=>{w(""),y(!1)},children:"Cancel"})]})]})})]});var k}const c=s.memo(l)}}]);
//# sourceMappingURL=364.e14377cd.chunk.js.map